{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const apiKey = '43257853-194068c59ee252fa44b7d008e';\n\nexport function fetchImages(keyword) {\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${keyword}&image_type=photo&orientation=horizontal&safesearch=true`;\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(data => {\n      return data.hits;\n    })\n    .catch(error => {\n      console.error('Error fetching images:', error);\n      return [];\n    });\n}\n","export function clearGallery() {\n  const galleryElement = document.querySelector('.gallery');\n  galleryElement.innerHTML = '';\n}\n\nexport function createMarkup(images) {\n  const galleryElement = document.querySelector('.gallery');\n  const markup = images\n    .map(\n      image => `<li class=\"card\">\n    <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery-item\">\n      <img class=\"contentCard\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n    </a>\n    <div class=\"imgCard\">\n      <p><b>Likes:</b> ${image.likes}</p>\n      <p><b>Views:</b> ${image.views}</p>\n      <p><b>Comments:</b> ${image.comments}</p>\n      <p><b>Downloads:</b> ${image.downloads}</p>\n    </div></li>\n  `\n    )\n    .join('');\n\n  galleryElement.insertAdjacentHTML('beforeend', markup);\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImages } from '../src/js/pixabay-api.js';\nimport { clearGallery, createMarkup } from '../src/js/render-functions.js';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.getElementById('search-input');\nconst loader = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  const keyword = searchInput.value.trim();\n  if (!keyword) {\n    iziToast.error({\n      position: 'topRight',\n      title: 'Error',\n      message: 'Please enter a keyword for search.',\n    });\n    return;\n  }\n  loader.style.display = 'block';\n  clearGallery();\n  fetchImages(keyword)\n    .then(images => {\n      if (images.length === 0) {\n        iziToast.info({\n          position: 'topRight',\n          title: 'Info',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        createMarkup(images);\n        lightbox.refresh();\n      }\n    })\n    .catch(error => {\n      console.error('Error fetching images:', error);\n      iziToast.error({\n        position: 'topRight',\n        title: 'Error',\n        message:\n          'An error occurred while fetching images. Please try again later.',\n      });\n    })\n    .finally(() => {\n      loader.style.display = 'none';\n    });\n});\n"],"names":["apiKey","fetchImages","keyword","url","response","data","error","clearGallery","galleryElement","createMarkup","images","markup","image","lightbox","SimpleLightbox","searchForm","searchInput","loader","event","iziToast"],"mappings":"6vBAAA,MAAMA,EAAS,qCAER,SAASC,EAAYC,EAAS,CACnC,MAAMC,EAAM,gCAAgCH,CAAM,MAAME,CAAO,2DAC/D,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GACGA,EAAK,IACb,EACA,MAAMC,IACL,QAAQ,MAAM,yBAA0BA,CAAK,EACtC,GACR,CACL,CClBO,SAASC,GAAe,CAC7B,MAAMC,EAAiB,SAAS,cAAc,UAAU,EACxDA,EAAe,UAAY,EAC7B,CAEO,SAASC,EAAaC,EAAQ,CACnC,MAAMF,EAAiB,SAAS,cAAc,UAAU,EAClDG,EAASD,EACZ,IACCE,GAAS;AAAA,eACAA,EAAM,aAAa;AAAA,sCACIA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,yBAGnDA,EAAM,KAAK;AAAA,yBACXA,EAAM,KAAK;AAAA,4BACRA,EAAM,QAAQ;AAAA,6BACbA,EAAM,SAAS;AAAA;AAAA,GAGvC,EACA,KAAK,EAAE,EAEVJ,EAAe,mBAAmB,YAAaG,CAAM,CACvD,CCjBA,MAAME,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EACKC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAW,iBAAiB,SAAUG,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAMhB,EAAUc,EAAY,MAAM,KAAI,EACtC,GAAI,CAACd,EAAS,CACZiB,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QAAS,oCACf,CAAK,EACD,MACD,CACDF,EAAO,MAAM,QAAU,QACvBV,IACAN,EAAYC,CAAO,EAChB,KAAKQ,GAAU,CACVA,EAAO,SAAW,EACpBS,EAAS,KAAK,CACZ,SAAU,WACV,MAAO,OACP,QACE,0EACZ,CAAS,GAEDV,EAAaC,CAAM,EACnBG,EAAS,QAAO,EAExB,CAAK,EACA,MAAMP,GAAS,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7Ca,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QACE,kEACV,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbF,EAAO,MAAM,QAAU,MAC7B,CAAK,CACL,CAAC"}